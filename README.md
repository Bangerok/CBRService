Тестовое задание
=============================

### Описание

Разработать сервис, предоставляющий данные, полученные из внешних источников, в виде pdf-документа. Внешний источник - api центрального банка РФ:

- <b>[Список методов](http://www.cbr.ru/development/WSCO/);</b>
- <b>[WSDL](http://www.cbr.ru/CreditInfoWebServ/CreditOrgInfo.asmx?WSDL).</b>

**Входные данные -** список bic кодов банков. Пример bic кода: "040173725".

**Результат:** информация о банке в виде файла PDF. Пример: info.pdf.

### Условия

- Сервис имеет точки входа по интерфейсам **SOAP** и **JMS**.
- По JMS сервис получает данные в виде **json-строки**, по SOAP – **XML** (Договорились, что пусть будет везде только XML).
- На основании полученных параметров сервис формирует запрос во внешний сервис.
- В зависимости от входных параметров сервис должен возвращать **2-3 разных результата**, а также ошибки вроде **«Сведения не найдены»** и **«Неверные входные параметры»**.
- Сервис формирует **pdf-документ**, содержащий полученные от внешнего сервиса результаты в виде, понятном **не** IT-специалисту (в виде справки/выписки/etc.).
- Полученный документ в бинарном виде (base64) возвращается в качестве **синхронного ответа** при SOAP-взаимодействии, а при JMS документ отправляется в **reply-очередь**.
- Вне зависимости от точки входа реализация логики должна быть **единой**.
- Обращения к сервису должны **логироваться**, например, в файл.
- **(Бонус) Реализовать автотесты сервиса.**

### Алгоритм работы сервиса

- Получение данных в формате XML с клиента по SOAP или JMS взаимодействию.
- Распарсивание полученной информации для получения bic кода или кодов.
- Отправка запроса в cbr.ru для получения внутренних кодов организации.
- Отправка запроса для получения данных организаций по полученным внутренним кодам.
- Формирование PDF файла из данных организаций.
- Отправка ответа вместе с PDF в виде Base64 клиенту при Soap взаимодействии или отправка PDF в reply-очередь при JMS взаимодействии.
- Complete! 

### Дополнительно

Для разработки можно использовать любые open source java-frameworks. В качестве Message Broker можно использовать Apache ActiveMQ или любой другой быстронастраеваемый брокер. Готовый проект загрузить на <b>[GitHub](https://github.com)</b> и открыть доступ. Обязательно добавить README с инструкцией по настройке/запуску/разворачиванию и примерами запросов.

### Инструкция по запуску сервиса

- Сделать **Clone** проекта;
- Выполнить команду **mvn spring-boot:run**;
- Будет запущен сервис для SOAP взаимодействия по порту 8080. WSDL для SOAP UI можно взять по <b>[адресу](http://localhost:8080/ws/CreditInfoCBRService.wsdl)</b>;
- Также будет запущена очередь, проверить которую можно, например, используя свой ActiveMQ. 
- Для проверки я использовал XML строку - <b>[пример строки XML формата](https://github.com/Bangerok/CBRService/blob/master/src/main/resources/META-INF/Test/ServiceRequestTest.txt)</b>;
- Отправить получившийся запрос;
- Получить и смотреть ответ.
